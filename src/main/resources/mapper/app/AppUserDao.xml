<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oservice.admin.modules.app.dao.AppUserDao">

    <!-- 通过手机号校验当前手机号是否系统用户 -->
    <select id="queryByUserPhone" resultType="com.oservice.admin.modules.app.entity.AppUserEntity">
		select * from xry_user where phone = #{phone}
	</select>
    <!--保存用户token-->
    <update id="createToken" parameterType="com.oservice.admin.modules.app.entity.AppUserEntity">
      update xry_user set login_token=#{loginToken},refresh_token=#{refreshToken} where id=#{id}
    </update>
    <!--重置密码-->
    <update id="updatePassword" parameterType="com.oservice.admin.modules.app.entity.AppUserEntity">
      update xry_user set password=#{password} where phone=#{phone}
    </update>
</mapper>